#!/bin/bash
# 66cea2efcd1ec663c88a97f19e701259de10b87d0a3fb85aaa99f79249888a1e
# encoded with bash64 - https://github.com/KamaranL/bash64
MAIN='IyEvdXNyL2Jpbi9lbnYgYmFzaAoKKCgke0JBU0hfVkVSU0lPTjo6MX0gPCA0KSkgJiYgewogICAgZWNobyAtZSAiXDAzM1sxbUVSUk9SXDAzM1swbVx0JHtfX01BSU5fX30gcmVxdWlyZXMgYmFzaCA+PTQueCIKICAgIGV4aXQgMQp9CgpmdW5jdGlvbiBwOgp7ICMgcHJpbnQKICAgICgoJCMgPT0gMCkpICYmIHJldHVybiAxCgogICAgcDo6YSgpCiAgICB7ICMgYXJyYXkKICAgICAgICBsb2NhbCBrCiAgICAgICAgbG9jYWwgLW4gYXJyYXk9IiQxIgoKICAgICAgICByZXMrPSIkcHJlJDE9KFxuIgogICAgICAgIGZvciBrIGluICIkeyFhcnJheVtAXX0iOyBkbwogICAgICAgICAgICByZXMrPSIkKAogICAgICAgICAgICAgICAgcHJpbnRmICIlLjBzICIgezEuLjR9ICYmCiAgICAgICAgICAgICAgICAgICAgcHJpbnRmICIke2t9PSR7YXJyYXlbJGtdfSVzIiAiXG4iCiAgICAgICAgICAgICkiCiAgICAgICAgZG9uZQogICAgICAgIHJlcys9IiRwcmUpXG4iCgogICAgICAgIHJldHVybiAwCiAgICB9CgogICAgcDo6a3ZwKCkKICAgIHsgIyBrZXktdmFsdWUgcGFpcgogICAgICAgIGxvY2FsIC1BIGFyZwogICAgICAgIGxvY2FsIC1hIHBvcwogICAgICAgIGxvY2FsIHJlcwoKICAgICAgICB3aGlsZSAoKCQjID4gMCkpOyBkbwogICAgICAgICAgICBjYXNlICIkMSIgaW4KICAgICAgICAgICAgLWQpICMgZGVsaW1pdGVyCiAgICAgICAgICAgICAgICBbICEgLXogIiQyIiBdICYmCiAgICAgICAgICAgICAgICAgICAgYXJnW2RdPSIkMiIgJiYgc2hpZnQKICAgICAgICAgICAgICAgIDs7CiAgICAgICAgICAgIC1rKSAjIGtleQogICAgICAgICAgICAgICAgYXJnW2tdPXRydWUKICAgICAgICAgICAgICAgIDs7CiAgICAgICAgICAgIC12KSAjIHZhbHVlCiAgICAgICAgICAgICAgICBhcmdbdl09dHJ1ZQogICAgICAgICAgICAgICAgOzsKICAgICAgICAgICAgKikgIyBwb3NpdGlvbmFscwogICAgICAgICAgICAgICAgcG9zKz0oIiQxIikKICAgICAgICAgICAgICAgIDs7CiAgICAgICAgICAgIGVzYWMKICAgICAgICAgICAgc2hpZnQKICAgICAgICBkb25lCiAgICAgICAgKCgkeyNwb3NbQF19IDwgMSkpICYmIHJldHVybiAxCgogICAgICAgIFsgLXogIiR7YXJnW2RdfSIgXSAmJiBhcmdbZF09JyAnCiAgICAgICAgSUZTPSIke2FyZ1tkXX0iCiAgICAgICAgcmVhZCAtcmEgcmVzIDw8PCIke3Bvc1tAXX0iCiAgICAgICAgdW5zZXQgSUZTCgogICAgICAgIGlmIFsgIiR7YXJnW2tdfSIgPT0gdHJ1ZSBdOyB0aGVuCiAgICAgICAgICAgIFsgLXogIiR7cmVzWzBdfSIgXSAmJiByZXR1cm4gMQogICAgICAgICAgICBlY2hvIC1lICIke3Jlc1swXX0iICYmIHJldHVybiAwCiAgICAgICAgZWxpZiBbICIke2FyZ1t2XX0iID09IHRydWUgXTsgdGhlbgogICAgICAgICAgICBbIC16ICIke3Jlc1sxXX0iIF0gJiYgcmV0dXJuIDEKICAgICAgICAgICAgZWNobyAtZSAiJHtyZXNbMV19IiAmJiByZXR1cm4gMAogICAgICAgIGZpCiAgICB9CgogICAgbG9jYWwgLUEgYXJnCiAgICBsb2NhbCAtYSBwb3MKICAgIGxvY2FsIHJlcyBwcmUKCiAgICB3aGlsZSAoKCQjID4gMCkpOyBkbwogICAgICAgIGNhc2UgIiQxIiBpbgogICAgICAgIC1hKSAjIGFycmF5CiAgICAgICAgICAgIGFyZ1thXT10cnVlCiAgICAgICAgICAgIDs7CiAgICAgICAgLWUpICMgZXJyb3IKICAgICAgICAgICAgYXJnW2VdPXRydWUKICAgICAgICAgICAgOzsKICAgICAgICAtLWZuKSAjIGZ1bmN0aW9uIG5hbWUgZm9ybWF0CiAgICAgICAgICAgIFsgLXogIiQyIiBdICYmIHJldHVybiAxCiAgICAgICAgICAgIHJlcz0iJHsyLy9cIC8tfSIgJiYgcmVzPSIke3Jlcy8vXC8vLn0iCiAgICAgICAgICAgIGVjaG8gLWUgIiR7cmVzLCx9IiAmJiByZXR1cm4gMAogICAgICAgICAgICA7OwogICAgICAgIC1rIHwgLXYpICMga2V5IHwgdmFsdWUKICAgICAgICAgICAgcDo6a3ZwICIkQCIKICAgICAgICAgICAgcmV0dXJuICQ/CiAgICAgICAgICAgIDs7CiAgICAgICAgLXcpICMgd2FybgogICAgICAgICAgICBhcmdbd109dHJ1ZQogICAgICAgICAgICA7OwogICAgICAgIC14KSAjIHZlcmJvc2UvdGVzdAogICAgICAgICAgICBhcmdbeF09dHJ1ZQogICAgICAgICAgICA7OwogICAgICAgICopICMgcG9zaXRpb25hbHMKICAgICAgICAgICAgcG9zKz0oIiQxIikKICAgICAgICAgICAgOzsKICAgICAgICBlc2FjCiAgICAgICAgc2hpZnQKICAgIGRvbmUKICAgICgoJHsjcG9zW0BdfSA8IDEpKSAmJiByZXR1cm4gMQoKICAgIFsgIiR7YXJnW3hdfSIgPT0gdHJ1ZSBdICYmIHsKICAgICAgICBbICIke2FbeF19IiA9PSB0cnVlIF0gJiYgewogICAgICAgICAgICBwcmU9IiMjIyAiCiAgICAgICAgfSB8fCByZXR1cm4gMAogICAgfQoKICAgIFsgIiR7YXJnW2FdfSIgPT0gdHJ1ZSBdICYmIHsKICAgICAgICBmb3IgYXJyIGluICIke3Bvc1tAXX0iOyBkbwogICAgICAgICAgICBwOjphICIkYXJyIgogICAgICAgIGRvbmUKICAgICAgICBlY2hvIC1lICIkcmVzIiAmJiByZXR1cm4gMAogICAgfSB8fCByZXM9IiR7cG9zWypdfSIKCiAgICBpZiBbICIke2FyZ1t3XX0iID09IHRydWUgXTsgdGhlbgogICAgICAgIHByZT0iXDAzM1sxbVdBUk5cMDMzWzBtXHQiCiAgICBlbGlmIFsgIiR7YXJnW2VdfSIgPT0gdHJ1ZSBdOyB0aGVuCiAgICAgICAgcHJlPSJcMDMzWzFtRVJST1JcMDMzWzBtXHQiCiAgICBmaQoKICAgIGVjaG8gLWUgIiRwcmUkcmVzIgogICAgcmV0dXJuIDAKfQoKZnVuY3Rpb24gLnRyYWNlCnsgI3ByaW50ICh2b2lkLW9ubHkpIGNhbGxlciBmdW5jdGlvbgogICAgWyAiJHthW3h4XX0iICE9IHRydWUgXSAmJiByZXR1cm4gMQogICAgcDogLXggaW52b2tpbmcgIiR7RlVOQ05BTUVbMV19KCQqKSIgJiYgcmV0dXJuIDAKfQoKZnVuY3Rpb24gLmRpZQp7ICNwcmludCAmJiBleGl0CiAgICBsb2NhbCAtYSBwb3MKICAgIGxvY2FsIHJlcyBlcnIKCiAgICB3aGlsZSAoKCQjID4gMCkpOyBkbwogICAgICAgIGNhc2UgIiQxIiBpbgogICAgICAgIC1lKSAjIGVycm9yCiAgICAgICAgICAgIGVycj0idHJ1ZSIKICAgICAgICAgICAgOzsKICAgICAgICAqKQogICAgICAgICAgICBwb3MrPSgiJDEiKQogICAgICAgICAgICA7OwogICAgICAgIGVzYWMKICAgICAgICBzaGlmdAogICAgZG9uZQoKICAgIHJlcz0iJHtwb3NbKl19IgoKICAgIFsgIiRlcnIiID09IHRydWUgXSAmJiB7CiAgICAgICAgcDogLWUgIiRyZXMiICYmIGV4aXQgMQogICAgfSB8fCBlY2hvIC1lICIkcmVzIiAmJiBleGl0IDEKfQoKZnVuY3Rpb24gbWFpbjo6Y2hlY2stZGVwZW5kZW5jaWVzCnsKICAgIC50cmFjZSAiJEAiCgogICAgbG9jYWwgZGVwcyBiaW4KCiAgICBkZXBzPSgKICAgICAgICBiYXNoCiAgICAgICAgY2F0CiAgICAgICAgZGF0ZQogICAgICAgIGRpcm5hbWUKICAgICAgICBncmVwCiAgICAgICAgbWtkaXIKICAgICAgICByZWFscGF0aAogICAgICAgIHNlZAogICAgICAgIHNoYTI1NnN1bQogICAgKQoKICAgIGZvciBiaW4gaW4gIiR7ZGVwc1tAXX0iOyBkbwogICAgICAgIHA6IC14IGNoZWNraW5nIGRlcGVuZGVuY3k6ICRiaW4KICAgICAgICAhIGNvbW1hbmQgLXYgJGJpbiAmPi9kZXYvbnVsbCAmJgogICAgICAgICAgICAuZGllIC1lICRiaW4gbm90IGZvdW5kIFwKICAgICAgICAgICAgICAgICdcbiAgJy0gcGxlYXNlIGluc3RhbGwgYmVmb3JlIHByb2NlZWRpbmcKICAgIGRvbmUKCiAgICByZXR1cm4gMAp9CgpmdW5jdGlvbiBtYWluOjpsb2FkLWNvbmZpZwp7CiAgICAjIEBhcmcgICAgICA8Y29uZmlnX2ZpbGU+CgogICAgLnRyYWNlICIkQCIKCiAgICBbICEgLXIgIiQxIiAtbyAtZCAiJDEiIF0gJiYgewogICAgICAgIHA6IC13IGNhbm5vdCByZWFkIGNvbmZpZyBmaWxlOiAiJDEiCiAgICAgICAgcmV0dXJuIDEKICAgIH0KCiAgICBsb2NhbCAtYSB2YWxpZF9rZXlzIGxpbmVzCiAgICBsb2NhbCAtbCB2X2tleSBjX2tleSBrCiAgICBsb2NhbCBsaW5lIHYKCiAgICBsaW5lcz0oJChncmVwICdeW14jXScgIiQxIikpCiAgICB2YWxpZF9rZXlzPSgKICAgICAgICBiLnNyYwogICAgICAgIGIubmFtZQogICAgICAgIGIub3V0CiAgICAgICAgYi5uYW1lCiAgICAgICAgcy52ZXJzaW9uCiAgICAgICAgcy5saWJvbmx5CiAgICAgICAgcy5lcnJfbm9hcmdzCiAgICAgICAgcy5lcnJfaWxsZWdhbG9wdAogICAgKQoKICAgIGZvciB2X2tleSBpbiAiJHt2YWxpZF9rZXlzW0BdfSI7IGRvCiAgICAgICAgY19rZXk9IiR7dl9rZXklLip9WyR7dl9rZXkjKi59XSIKICAgICAgICB2PQogICAgICAgIGZvciBsaW5lIGluICIke2xpbmVzW0BdfSI7IGRvCiAgICAgICAgICAgIGs9IiQocDogLWsgIiRsaW5lIiAtZCA9KSIKCiAgICAgICAgICAgIFsgIiR2X2tleSIgPT0gIiRrIiBdICYmIHsKICAgICAgICAgICAgICAgIHY9IiQocDogLXYgIiRsaW5lIiAtZCA9KSIKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIH0KICAgICAgICBkb25lCgogICAgICAgIFsgLXogIiR2IiBdICYmIHsKICAgICAgICAgICAgWyAhIC16ICIke2NbJGNfa2V5XX0iIF0gJiYKICAgICAgICAgICAgICAgIHA6IC14ICInJHZfa2V5JyIgbm90IGZvdW5kLCB1c2luZyBkZWZhdWx0OiAiJHtjWyRjX2tleV19IgogICAgICAgICAgICBjb250aW51ZQogICAgICAgIH0KCiAgICAgICAgQ09ORklHWyRjX2tleV09IiR2IgogICAgZG9uZQoKICAgIHJldHVybiAwCn0KCmZ1bmN0aW9uIG1haW46OnBhcnNlLWFyZ3MKewogICAgLnRyYWNlICIkQCIKCiAgICBsb2NhbCAtbCBrZXkgb19rZXkKCiAgICBmb3Iga2V5IGluICIkeyFjW0BdfSI7IGRvCiAgICAgICAgX189IiR7a2V5Ly9cWy8ufSIKICAgICAgICBvX2tleT0iJHtfXy8vXF0vfSIKCiAgICAgICAgWyAhIC16ICIke29bJG9fa2V5XX0iIF0gJiYgewogICAgICAgICAgICBwOiAteCBvcHRpb24gcHJvdmlkZWQgLSBvdmVycmlkaW5nICIke2NbJGtleV19ID0+ICR7b1skb19rZXldfSIKICAgICAgICAgICAgQ09ORklHWyRrZXldPSIke29bJG9fa2V5XX0iCiAgICAgICAgfQogICAgICAgIFsgISAteiAiJHthWyRrZXldfSIgXSAmJiB7CiAgICAgICAgICAgIHA6IC14IGFyZyBwcm92aWRlZCAtIG92ZXJyaWRpbmcgIiR7Y1ska2V5XX0gPT4gJHthWyRrZXldfSIKICAgICAgICAgICAgQ09ORklHWyRrZXldPSIke2FbJGtleV19IgogICAgICAgIH0KICAgIGRvbmUKICAgIHVuc2V0IF9fCgogICAgcmV0dXJuIDAKfQoKZnVuY3Rpb24gbWFpbjo6c2Nhbi1zb3VyY2UKewogICAgIyBAYXJnICAgICAgPHNyY19kaXI+CgogICAgLnRyYWNlICIkQCIKCiAgICBbIC1kICIkMSIgXSB8fCBbIC1yICIkMSIgXSB8fCAuZGllIC1lIGNhbm5vdCBhY2Nlc3Mgc291cmNlIGRpcmVjdG9yeTogIiQxIgoKICAgIHNjYW4tc291cmNlOjptYWtlLWhlbHBkb2MoKQogICAgewogICAgICAgICMgQGFyZyAgICAgIDxzcmNfZmlsZT4KCiAgICAgICAgLnRyYWNlICIkQCIKCiAgICAgICAgbG9jYWwgbGluZSBkZXNjIHBhcmFtIGFyZyB1c2FnZQoKICAgICAgICBkZXNjPSgkKHNlZCAtbiAtZSAnL14jICpAZGVzYyAqLyB7cy8jICpAZGVzYyAqLy87IHA7fScgIiQxIikpCiAgICAgICAgKCgkeyNkZXNjW0BdfSA+IDApKSAmJgogICAgICAgICAgICBIRUxQTUFQWyRmbl09IiR7ZGVzY1sqXX0iIHx8CiAgICAgICAgICAgIEhFTFBNQVBbJGZuXT0iLSIKCiAgICAgICAgd2hpbGUgSUZTPSByZWFkIC1yYSBsaW5lOyBkbwogICAgICAgICAgICBfXz0iJChwOiAtayAiJGxpbmUiIC1kID0pIiAmJgogICAgICAgICAgICAgICAgcGFyYW0rPSIkKHByaW50ZiAiICAlLTIwcyVzIiBcCiAgICAgICAgICAgICAgICAgICAgIiR7X18vL1wkL1xcXCR9IiAiJChwOiAtdiAiJGxpbmUiIC1kID0pXG4iKSIKICAgICAgICBkb25lIDw8PCIkKHNlZCAtbiAtZSAnL14jICpAcGFyYW0gKi8ge3MvIyAqQHBhcmFtICovLzsgcDt9JyAiJDEiKSIKICAgICAgICB1bnNldCBfXwoKICAgICAgICBbICIke2Nbc1tsaWJvbmx5XV19IiAhPSB0cnVlIF0gJiYKICAgICAgICAgICAgdXNhZ2U9IlwkezAjIypcL30gIgoKICAgICAgICB1c2FnZSs9IiR7Zm4vLy4vIH0iCiAgICAgICAgYXJnPSgkKHNlZCAtbiAtZSAnL14jICpAYXJnICovIHtzLyMgKkBhcmcgKi8vOyBwO30nICIkMSIpKQogICAgICAgIFsgISAteiAiJHBhcmFtIiBdICYmCiAgICAgICAgICAgIHVzYWdlKz0iIFtvcHRpb25zXSR7YXJnOisgJHthcmdbKl19fVxub3B0aW9uczpcbiRwYXJhbSIgfHwKICAgICAgICAgICAgdXNhZ2UrPSIgJHthcmdbKl19IgoKICAgICAgICBSRVNbbGliXSs9IiQoCiAgICAgICAgICAgIGNhdCA8PERPQwpjYXNlICJcJDEiIGluIFw/IHwgLWggfCAtLWhlbHApCmNhdCA8PEVPRgp1c2FnZTogJHVzYWdlCkVPRgpleGl0IDAKOzsKZXNhY1xuCkRPQwogICAgICAgICkiCiAgICAgICAgcmV0dXJuIDAKICAgIH0KCiAgICBzY2FuLXNvdXJjZTo6bWFrZS1saWIoKQogICAgewogICAgICAgICMgQGFyZyAgICAgIDxzY29wZWRfc3JjX2Rpcj4KCiAgICAgICAgLnRyYWNlICIkQCIKCiAgICAgICAgbG9jYWwgcl9wYXRoIGZpbGUKICAgICAgICBsb2NhbCAtbCBiX3BhdGggYl9kaXIgcGFydHMgayB2IHNfa2V5IGZfa2V5IHBfa2V5IHN1YgogICAgICAgIGxvY2FsIC1hIHNlZW4KICAgICAgICBsb2NhbCAtaSBpCgogICAgICAgIHJfcGF0aD0iJChyZWFscGF0aCAiJDEiKSIKICAgICAgICBiX3BhdGg9IiR7cl9wYXRoIyMqIiQoZGlybmFtZSAiJHNyYyIpIlwvfSIKCiAgICAgICAgW1sgJGJfcGF0aCA9PSAqJyAnKiBdXSAmJgogICAgICAgICAgICBwOiAtdyBiYXNlIHBhdGggY29udGFpbnMgc3BhY2UgdGhhdCB3aWxsIGJlIHJlcGxhY2VkIHdpdGggJyItIic6IFwKICAgICAgICAgICAgICAgICIke2JfcGF0aCUlXC8qfS9cMDMzWzMxbSR7Yl9wYXRoIypcL31cMDMzWzBtIgoKICAgICAgICBwdXNoZCAiJHJfcGF0aCIgPi9kZXYvbnVsbAoKICAgICAgICB3aGlsZSBJRlM9IHJlYWQgLXJhIGZpbGU7IGRvCiAgICAgICAgICAgIFsgISAtciAiJGZpbGUiIF0gJiYgY29udGludWUgIyBza2lwIGluYWNjZXNzaWJsZQoKICAgICAgICAgICAgX189IiQocmVhbHBhdGggIiRmaWxlIikiCiAgICAgICAgICAgIGZuPSIkKHA6IC0tZm4gIiR7X18jIyokc2NvcGVcL30iKSIKICAgICAgICAgICAgX189IiQoZGlybmFtZSAiJF9fIikiCiAgICAgICAgICAgIGJfZGlyPSIke19fIyMqXC99IiAmJiB1bnNldCBfXwoKICAgICAgICAgICAgWyAiJHtiX2Rpcn0iID09IHB1YmxpYyBdICYmCiAgICAgICAgICAgICAgICBbWyAhICIgJHtNQUlOTElTVFtAXX0gIiA9fiAiICRmbiAiIF1dICYmCiAgICAgICAgICAgICAgICBNQUlOTElTVCs9KCIkZm4iKQoKICAgICAgICAgICAgWyAtZCAiJGZpbGUiIF0gJiYgewogICAgICAgICAgICAgICAgWyAiJHNjb3BlIiA9PSBwdWJsaWMgXSAmJiBbICIke2JfZGlyfSIgIT0gcHVibGljIF0gJiYgewogICAgICAgICAgICAgICAgICAgIHN1Yj0iJChwOiAtLWZuICIkZmlsZSIpIgogICAgICAgICAgICAgICAgICAgIHBfa2V5PSIkc3ViW3ByZV0iCiAgICAgICAgICAgICAgICAgICAgSEVMUE1BUFskcF9rZXldPSIke2ZuJSUuJHN1Yip9IgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgc2Nhbi1zb3VyY2U6Om1ha2UtbGliICIkZmlsZSIKICAgICAgICAgICAgfSB8fCB7CiAgICAgICAgICAgICAgICBbIC16ICIkKGhlYWQgLW41ICIkZmlsZSIpIiBdICYmIGNvbnRpbnVlICMgc2tpcCBlbXB0eQoKICAgICAgICAgICAgICAgIFtbICIgJHtzZWVuW0BdfSAiID1+ICIgJGZuICIgXV0gJiYKICAgICAgICAgICAgICAgICAgICAuZGllIC1lIGR1cGxpY2F0ZSBmdW5jdGlvbiBmb3VuZCBiZXR3ZWVuIHNjb3BlczogIiRmbiIKCiAgICAgICAgICAgICAgICBSRVNbbGliXSs9ImZ1bmN0aW9uICRmbiB7XG4iCgogICAgICAgICAgICAgICAgWyAiJHNjb3BlIiA9PSBwdWJsaWMgXSAmJiB7CiAgICAgICAgICAgICAgICAgICAgc2Nhbi1zb3VyY2U6Om1ha2UtaGVscGRvYyAiJGZpbGUiCgogICAgICAgICAgICAgICAgICAgIFsgIiR7Yl9kaXIsLH0iICE9IHB1YmxpYyBdICYmIHsKICAgICAgICAgICAgICAgICAgICAgICAgSUZTPScuJwogICAgICAgICAgICAgICAgICAgICAgICByZWFkIC1yYSBwYXJ0cyA8PDwiJGZuIgogICAgICAgICAgICAgICAgICAgICAgICB1bnNldCBJRlMKCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoKGkgPSAwOyBpIDwgJHsjcGFydHNbQF19IC0gMTsgaSsrKSk7IGRvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrPSIke3BhcnRzW2ldfSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY9IiR7cGFydHNbaSArIDFdfSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNfa2V5PSIka1tzdWJdIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZl9rZXk9IiRrW2ZuXSIKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbWyAhICR7U1VCTUFQWyRzX2tleV19ID1+ICIkdiAiIF1dICYmCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgWyAhIC16ICIkdiIgXSAmJgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNVQk1BUFskc19rZXldKz0iJHYgIiAmJgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhFTFBNQVBbJHNfa2V5XSs9IiR2ICIKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbICIkKHA6IC0tZm4gIiRiX2RpciIpIiA9PSAiJGsiIF0gJiYKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbICEgLXogIiRmbiIgXSAmJgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNVQk1BUFskZl9rZXldKz0iJGZuICIKICAgICAgICAgICAgICAgICAgICAgICAgZG9uZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIFJFU1tsaWJdKz0iJChncmVwICdeW14jXScgIiRmaWxlIilcbn1cbiIKICAgICAgICAgICAgICAgIHNlZW4rPSgiJGZuIikKICAgICAgICAgICAgfQogICAgICAgIGRvbmUgPDw8IiQobHMpIgoKICAgICAgICBwb3BkID4vZGV2L251bGwKCiAgICAgICAgcmV0dXJuIDAKICAgIH0KCiAgICBsb2NhbCBzcmMgZGVjbGFyZXMKICAgIGxvY2FsIC1sIGZuCgogICAgZm9yIHNjb3BlIGluIHByaXZhdGUgcHVibGljOyBkbwogICAgICAgIHNyYz0iJDEvJHNjb3BlIgogICAgICAgIFsgLWQgIiRzcmMiIF0gJiYKICAgICAgICAgICAgc2Nhbi1zb3VyY2U6Om1ha2UtbGliICIkc3JjIgogICAgZG9uZQoKICAgIFsgIiR7Y1tzW2xpYm9ubHldXX0iICE9IHRydWUgXSAmJiB7CiAgICAgICAgIyBtb3ZlIGFsbCBkZWNsYXJlIHN0YXRlbWVudHMsIGV4Y2VwdCBmb3IgdGhvc2Ugd2l0aCAtRwogICAgICAgIGRlY2xhcmVzPSdeZGVjbGFyZVxzKlwtW15HXVxzKi4qJCcKICAgICAgICBSRVNbdmFyXT0iJChlY2hvIC1lICIke3JbbGliXX0iIHwgZ3JlcCAtRSAiJGRlY2xhcmVzIikiCiAgICAgICAgUkVTW2xpYl09IiQoZWNobyAtZSAiJHtyW2xpYl19IiB8IGdyZXAgLXZFICIkZGVjbGFyZXMiKVxuIgogICAgfQoKICAgIHJldHVybiAwCn0KCmZ1bmN0aW9uIG1haW46Om1ha2UtZXhlYwp7CiAgICAudHJhY2UgIiRAIgoKICAgIGxvY2FsIC1sIHMgbSBjbWQgc3ViIG9wdCBmbiBzX2tleSBmX2tleSBoX2tleSBwX2tleQogICAgbG9jYWwgLWEgc2Vlbl9mbiBzZWVuX29wdCBzZWVuX3N1YgogICAgbG9jYWwgaF9vcHQgdl9vcHQgb3B0aW9ucyBoZWxwCgogICAgaF9vcHQ9IiQocHJpbnRmICIgICUtMjBzJXNcbiIgIi1oLC0taGVscCIgInByaW50IHRoaXMgaGVscCBtZXNzYWdlIikiCiAgICB2X29wdD0iJChwcmludGYgIiAgJS0yMHMlc1xuIiAiLXYsLS12ZXJzaW9uIiBcCiAgICAgICAgInByaW50IHRoZSBjdXJyZW50IHZlcnNpb24gb2YgdGhpcyBleGVjdXRhYmxlIikiCgogICAgZm9yIHMgaW4gIiR7IVNVQk1BUFtAXX0iOyBkbwogICAgICAgIHN1Yj0iJHtzJVsqfSIKICAgICAgICBzX2tleT0iJHN1YltzdWJdIgogICAgICAgIGZfa2V5PSIkc3ViW2ZuXSIKICAgICAgICBwX2tleT0iJHN1YltwcmVdIgogICAgICAgIG9wdGlvbnM9CiAgICAgICAgaGVscD0KCiAgICAgICAgd2hpbGUgSUZTPSByZWFkIC1yYSBvcHQ7IGRvCiAgICAgICAgICAgIHdoaWxlIElGUz0gcmVhZCAtcmEgZm47IGRvCiAgICAgICAgICAgICAgICAjIG5lc3RlZCBmdW5jdGlvbnMKICAgICAgICAgICAgICAgIFsgIiR7Zm4jIyoufSIgPT0gIiRvcHQiIF0gJiYKICAgICAgICAgICAgICAgICAgICBbWyAhICIgJHtzZWVuX2ZuW0BdfSAiID1+ICIgJGZuICIgXV0gJiYgewogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMrPSIkb3B0KSBzaGlmdCAmJiAkZm4gXCJcJEBcIjsgZXhpdCBcJD8gOztcbiIKICAgICAgICAgICAgICAgICAgICBoZWxwKz0iJChwcmludGYgIiAgJS0yMHMlc1xuIiBcCiAgICAgICAgICAgICAgICAgICAgICAgICIkb3B0IiAiJHtIRUxQTUFQWyRmbl19XG4iKSIKICAgICAgICAgICAgICAgICAgICBzZWVuX2ZuKz0oIiRmbiIpCiAgICAgICAgICAgICAgICAgICAgc2Vlbl9vcHQrPSgiJG9wdCIpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIGRvbmUgPDw8IiQoZWNobyAtZSAiJHtTVUJNQVBbJGZfa2V5XS8vXCAvXFxufSIpIgoKICAgICAgICAgICAgIyBuZXN0ZWQgc3ViLW1vZHVsZXMKICAgICAgICAgICAgW1sgISAiICR7c2Vlbl9vcHRbQF19ICIgPX4gIiAkb3B0ICIgXV0gJiYgewogICAgICAgICAgICAgICAgaF9rZXk9IiRvcHRbc3ViXSIKICAgICAgICAgICAgICAgIG9wdGlvbnMrPSIkb3B0KSBzaGlmdCAmJiAkb3B0IFwiXCRAXCI7IGV4aXQgXCQ/IDs7XG4iCiAgICAgICAgICAgICAgICBoZWxwKz0iJChwcmludGYgIiAgJS0yMHMlc1xuIiBcCiAgICAgICAgICAgICAgICAgICAgIiRvcHQiICJ7JChlY2hvIC1lICIke0hFTFBNQVBbJGhfa2V5XS8vXCAvLFwgfSIgfAogICAgICAgICAgICAgICAgICAgICAgICBzZWQgJ3MvLFwgKiQvLycpfVxuIikiCiAgICAgICAgICAgICAgICBzZWVuX29wdCs9KCIkb3B0IikKICAgICAgICAgICAgfQogICAgICAgIGRvbmUgPDw8IiQoZWNobyAtZSAiJHtTVUJNQVBbJHNfa2V5XS8vXCAvXFxufSIpIgoKICAgICAgICBbWyAhICIgJHtzZWVuX3N1YltAXX0gIiA9fiAiICRzdWIgIiBdXSAmJiB7CiAgICAgICAgICAgIFsgISAteiAiJHtIRUxQTUFQWyRwX2tleV19IiBdICYmIHsKICAgICAgICAgICAgICAgIGNtZD0iJHtIRUxQTUFQWyRwX2tleV0vLy4vXCB9ICRzdWIiCiAgICAgICAgICAgIH0gfHwgY21kPSIkc3ViIgoKICAgICAgICAgICAgUkVTW2Jpbl0rPSIkKAogICAgICAgICAgICAgICAgY2F0IDw8RE9DCiRzdWIoKSB7CiQoCiAgICAgICAgICAgICAgICAgICAgWyAiJHtjW3NbZXJyX25vYXJnc11dfSIgPT0gdHJ1ZSBdICYmCiAgICAgICAgICAgICAgICAgICAgICAgIGNhdCA8PERPQ0MKKChcJCMgPT0gMCkpICYmIHsKZWNobyBubyBhcmd1bWVudHMgcHJvdmlkZWQKZWNobyBwcmludCBoZWxwIHdpdGggIlwkezAjIypcL30iICRjbWQgLS1oZWxwCmV4aXQgMQp9CkRPQ0MKICAgICAgICAgICAgICAgICkKd2hpbGUgKChcJCMgPiAwKSk7IGRvCmNhc2UgIlwkMSIgaW4KXD8gfCAtaCB8IC0taGVscCkKY2F0IDw8RU9GCnVzYWdlOiBcJHswIyMqXC99ICRjbWQgW29wdGlvbnNdCm9wdGlvbnM6CiRoZWxwCiRoX29wdApFT0YKZXhpdCAwCjs7CiRvcHRpb25zCiQoCiAgICAgICAgICAgICAgICAgICAgWyAiJHtjW3NbZXJyX2lsbGVnYWxvcHRdXX0iID09IHRydWUgXSAmJgogICAgICAgICAgICAgICAgICAgICAgICBjYXQgPDxET0NDCiopIGVjaG8gaWxsZWdhbCBvcHRpb246ICInXCQxJyIgJiYgZXhpdCAxIDs7CkRPQ0MKICAgICAgICAgICAgICAgICkKCmVzYWMKc2hpZnQKZG9uZQp9XG4KRE9DCiAgICAgICAgICAgICkiCiAgICAgICAgICAgIHNlZW5fc3ViKz0oIiRzdWIiKQogICAgICAgIH0KICAgIGRvbmUKICAgIHVuc2V0IG9wdGlvbnMgaGVscCBoX2tleQoKICAgIGZvciBtIGluICIke01BSU5MSVNUW0BdfSI7IGRvCiAgICAgICAgaF9rZXk9IiRtW3N1Yl0iCiAgICAgICAgb3B0aW9ucys9IiRtKSBzaGlmdCAmJiAkbSBcIlwkQFwiOyBleGl0IFwkPzs7XG4iCiAgICAgICAgWyAhIC16ICIke0hFTFBNQVBbJGhfa2V5XX0iIF0gJiYgewogICAgICAgICAgICBoZWxwKz0iJChwcmludGYgIiAgJS0yMHMlc1xuIiBcCiAgICAgICAgICAgICAgICAiJG0iICJ7JChlY2hvIC1lICIke0hFTFBNQVBbJGhfa2V5XS8vXCAvLFwgfSIgfAogICAgICAgICAgICAgICAgICAgIHNlZCAncy8sXCAqJC8vJyl9XG4iKSIKICAgICAgICB9IHx8IGhlbHArPSIkKHByaW50ZiAiICAlLTIwcyVzXG4iICIkbSIgIiR7SEVMUE1BUFskbV19XG4iKSIKICAgIGRvbmUKCiAgICBSRVNbYmluXSs9IiQoCiAgICAgICAgY2F0IDw8RE9DCiQoCiAgICAgICAgICAgIFsgIiR7Y1tzW2Vycl9ub2FyZ3NdXX0iID09IHRydWUgXSAmJgogICAgICAgICAgICAgICAgY2F0IDw8RE9DQwooKFwkIyA9PSAwKSkgJiYgewplY2hvIG5vIGFyZ3VtZW50cyBwcm92aWRlZAplY2hvIHByaW50IGhlbHAgd2l0aCAiXCR7MCMjKlwvfSIgLS1oZWxwCmV4aXQgMQp9CkRPQ0MKICAgICAgICApCl9fVkVSU0lPTl9fPSIke2Nbc1t2ZXJzaW9uXV19Igoke3JbdmFyXX0Kd2hpbGUgKChcJCMgPiAwKSk7IGRvCmNhc2UgIlwkMSIgaW4KXD8gfCAtaCB8IC0taGVscCkKY2F0IDw8RU9GCnVzYWdlOiBcJHswIyMqXC99IFtvcHRpb25zXQpvcHRpb25zOgokaGVscAokdl9vcHQKJGhfb3B0CkVPRgpleGl0IDAKOzsKLXYgfCAtLXZlcnNpb24pCmVjaG8gIlwkX19WRVJTSU9OX18iCmV4aXQgMAo7Owokb3B0aW9ucwokKAogICAgICAgICAgICBbICIke2Nbc1tlcnJfaWxsZWdhbG9wdF1dfSIgPT0gdHJ1ZSBdICYmCiAgICAgICAgICAgICAgICBjYXQgPDxET0NDCiopIGVjaG8gaWxsZWdhbCBvcHRpb246ICInXCQxJyIgJiYgZXhpdCAxIDs7CkRPQ0MKICAgICAgICApCgplc2FjCnNoaWZ0CmRvbmUKZXhpdCAwCkRPQwogICAgKSIKCiAgICByZXR1cm4gMAp9CgojIG1haW4KZGVjbGFyZSAtQSBBUkcgT1BUIENPTkZJRyBSRVMgU1VCTUFQIEhFTFBNQVAKZGVjbGFyZSAtYSBNQUlOTElTVApkZWNsYXJlIC1uIGM9Q09ORklHIHI9UkVTIGE9QVJHIG89T1BUCl9fVkVSU0lPTl9fPTEuMS4wCl9fPQoKd2hpbGUgKCgkIyA+IDApKTsgZG8KICAgIGNhc2UgIiQxIiBpbgogICAgLXYgfCAtLXZlcnNpb24pCiAgICAgICAgZWNobyAiJF9fVkVSU0lPTl9fIgogICAgICAgIGV4aXQgMAogICAgICAgIDs7CiAgICAtYyB8IC0tY29uZmlnKQogICAgICAgIFsgLXogIiQyIiBdICYmIC5kaWUgbm8gdmFsdWUgcHJvdmlkZWQ6ICIkMSA/IgogICAgICAgIEFSR1tjXT0iJDIiCiAgICAgICAgc2hpZnQKICAgICAgICA7OwogICAgLXMgfCAtLXNyYykKICAgICAgICBbIC16ICIkMiIgXSAmJiAuZGllIG5vIHZhbHVlIHByb3ZpZGVkOiAiJDEgPyIKICAgICAgICBBUkdbYltzcmNdXT0iJDIiCiAgICAgICAgc2hpZnQKICAgICAgICA7OwogICAgLW8gfCAtLW91dCkKICAgICAgICBbIC16ICIkMiIgXSAmJiAuZGllIG5vIHZhbHVlIHByb3ZpZGVkOiAiJDEgPyIKICAgICAgICBBUkdbYltvdXRdXT0iJDIiCiAgICAgICAgc2hpZnQKICAgICAgICA7OwogICAgLW4gfCAtLW5hbWUpCiAgICAgICAgWyAteiAiJDIiIF0gJiYgLmRpZSBubyB2YWx1ZSBwcm92aWRlZDogIiQxID8iCiAgICAgICAgQVJHW2JbbmFtZV1dPSIkMiIKICAgICAgICBzaGlmdAogICAgICAgIDs7CiAgICAtLW9wdCB8IC0tb3B0aW9uKQogICAgICAgIFsgLXogIiQyIiBdICYmIC5kaWUgbm8gdmFsdWUgcHJvdmlkZWQ6ICIkMSA/IgogICAgICAgIGs9IiQocDogLWsgIiQyIiAtZCA9KSIKICAgICAgICB2PSIkKHA6IC12ICIkMiIgLWQgPSkiCiAgICAgICAgWyAteiAiJHYiIF0gJiYgLmRpZSBubyB2YWx1ZSBwcm92aWRlZDogIiRrID8iCiAgICAgICAgT1BUWyIkayJdPSIkdiIKICAgICAgICB1bnNldCBrIHYKICAgICAgICBzaGlmdAogICAgICAgIDs7CiAgICAtZCB8IC0tZHJ5LXJ1bikKICAgICAgICBBUkdbZF09dHJ1ZQogICAgICAgIDs7CiAgICAtcSB8IC0tcXVpZXQpCiAgICAgICAgZXhlYyA+L2Rldi9udWxsIDI+JjEKICAgICAgICA7OwogICAgLXggfCAteHggfCAtLXZlcmJvc2UpCiAgICAgICAgWyAiJHsxIyotfSIgPT0geHggXSAmJiBBUkdbeHhdPXRydWUKICAgICAgICBBUkdbeF09dHJ1ZQogICAgICAgIDs7CiAgICBcPyB8IC1oIHwgLS1oZWxwKQogICAgICAgIGNhdCA8PEVPRgp1c2FnZTogJF9fTUFJTl9fIFtvcHRpb25zXQpvcHRpb25zOgogIC1jLC0tY29uZmlnIDxmaWxlPiAgc3BlY2lmeSBhIGNvbmZpZyBmaWxlIHRvIHJlYWQgZnJvbQogIC1zLC0tc3JjIDxwYXRoPiAgICAgc3BlY2lmeSBhIHNvdXJjZSBkaXJlY3RvcnkgdG8gcmVhZCBmcm9tCiAgLW8sLS1vdXQgPHBhdGg+ICAgICBzcGVjaWZ5IGFuIG91dHB1dCBkaXJlY3RvcnkgdG8gcGxhY2UgdGhlIGJ1bmRsZQogIC1uLC0tbmFtZSA8dmFsPiAgICAgc3BlY2lmeSBhIG5hbWUgZm9yIHRoZSBidW5kbGUKICAtLW9wdCA8a2V5Pj08dmFsPiAgIHNwZWNpZnkgYWRkaXRpb25hbCBjb25maWcgb3B0aW9uCiAgLWQsLS1kcnktcnVuICAgICAgICBkbyBub3Qgd3JpdGUgYnVuZGxlIHRvIGZpbGUsIHByaW50IHRvIGNvbnNvbGUKICAtcSwtLXF1aWV0ICAgICAgICAgIHN1cHByZXNzIGFsbCBvdXRwdXQgdG8gY29uc29sZQogIC14LC14eCwtLXZlcmJvc2UgICAgcHJpbnQgdmVyYm9zZSBvdXRwdXQgdG8gdGhlIGNvbnNvbGUKICAtaCwtLWhlbHAgICAgICAgICAgIHByaW50IHRoaXMgaGVscCBtZXNzYWdlCiAgLXYsLS12ZXJzaW9uICAgICAgICBwcmludCB2ZXJzaW9uCkVPRgogICAgICAgIGV4aXQgMAogICAgICAgIDs7CiAgICAqKQogICAgICAgIGVjaG8gaWxsZWdhbCBvcHRpb246ICIkMSIKICAgICAgICBleGl0IDEKICAgICAgICA7OwogICAgZXNhYwogICAgc2hpZnQKZG9uZQoKbWFpbjo6Y2hlY2stZGVwZW5kZW5jaWVzCgojIGRlZmF1bHRzCkNPTkZJR1tiW3NyY11dPS4vc3JjCkNPTkZJR1tiW291dF1dPS4vb3V0CkNPTkZJR1tiW25hbWVdXT1idW5kbGVkCkNPTkZJR1tzW3ZlcnNpb25dXT0wLjEuMApDT05GSUdbc1tsaWJvbmx5XV09ZmFsc2UKQ09ORklHW3NbZXJyX25vYXJnc11dPWZhbHNlCkNPTkZJR1tzW2Vycl9pbGxlZ2Fsb3B0XV09ZmFsc2UKClsgISAteiAiJHthW2NdfSIgXSAmJgogICAgbWFpbjo6bG9hZC1jb25maWcgIiR7YVtjXX0iIHx8CiAgICBtYWluOjpsb2FkLWNvbmZpZyAiJFBXRC9idW5zaC5jb25maWciIHx8CiAgICBwOiAteCBubyBjb25maWcgZmlsZSBsb2FkZWQgLSBmYWxsaW5nIGJhY2sgdG8gZGVmYXVsdHMgYW5kIGFyZ3VtZW50cwoKbWFpbjo6cGFyc2UtYXJncwptYWluOjpzY2FuLXNvdXJjZSAiJHtjW2Jbc3JjXV19IgoKWyAiJHtjW3NbbGlib25seV1dfSIgPT0gdHJ1ZSBdICYmIHsKICAgIHA6IC14IGNyZWF0aW5nIGxpYnJhcnkgT05MWQogICAgUkVTW2xpYl09IiQoZWNobyAtZSAiJHtyW2xpYl19IiB8IHNlZCAncy9leGl0L3JldHVybi9nJykiCn0gfHwgbWFpbjo6bWFrZS1leGVjCgpSRVNbYm9keV09IiQoCiAgICBjYXQgPDxET0MKIyEvdXNyL2Jpbi9lbnYgYmFzaAojIGJ1bmRsZWQgd2l0aCBidW5zaCAtIGh0dHBzOi8vZ2l0aHViLmNvbS9LYW1hcmFuTC9idW5zaAoke3JbbGliXX0KJHtyW2Jpbl19CkRPQwopIgoKWyAiJHthW2RdfSIgPT0gdHJ1ZSBdICYmIHsKICAgIGVjaG8gLWUgIiR7cltib2R5XX0iIHwgZ3JlcCAtdiAnXiQnCn0gfHwgewogICAgWyAiJHtjW2JbbmFtZV1dfSIgPT0gYnVuZGxlZCBdICYmIHsKICAgICAgICBfXz0iJChzaGEyNTZzdW0gPDw8IiR7cltib2R5XX0iKSIKICAgICAgICBfXz0iJHtfXyVcIFwgKn0iCiAgICAgICAgQ09ORklHW2JbbmFtZV1dKz0tIiR7X186IC04fSIKICAgICAgICB1bnNldCBfXwogICAgfQoKICAgIHA6IC14IHdyaXRpbmcgZmlsZTogIiR7Y1tiW291dF1dfS8ke2NbYltuYW1lXV19IgoKICAgIFsgISAtZCAiJHtjW2Jbb3V0XV19IiBdICYmIG1rZGlyIC1wICIke2NbYltvdXRdXX0iCiAgICBlY2hvIC1lICIke3JbYm9keV19IiB8IGdyZXAgLXYgJ14kJyA+IiR7Y1tiW291dF1dfS8ke2NbYltuYW1lXV19IgoKICAgIFsgISAteiAiJChjYXQgJHtjW2Jbb3V0XV19LyR7Y1tiW25hbWVdXX0pIiBdICYmIHsKICAgICAgICBjaG1vZCAreCAiJHtjW2Jbb3V0XV19LyR7Y1tiW25hbWVdXX0iCiAgICAgICAgZWNobyAiWyAkKGRhdGUgKyIlWS0lbS0lZCAlSDolTTolUyIpIF0iIFwKICAgICAgICAgICAgIiR7Y1tiW25hbWVdXX0gKHYke2Nbc1t2ZXJzaW9uXV19KSIgIj0+IiBcCiAgICAgICAgICAgICIkKHJlYWxwYXRoICR7Y1tiW291dF1dfS8ke2NbYltuYW1lXV19KSIKCiAgICAgICAgcDogLXggc3RhcnQgdXNpbmcgIicke2NbYltuYW1lXV19JyIgd2l0aCBvbmUgb2YgdGhlIGZvbGxvd2luZyBcCiAgICAgICAgICAgIG9wdGlvbnM6J1xuICAgJyBcCiAgICAgICAgICAgIC0gYXBwZW5kIHRoZSBmb2xsb3dpbmcgdG8geW91ciAnfi8uYmFzaF9wcm9maWxlJzogXAogICAgICAgICAgICAiZXhwb3J0IFBBVEg9XCRQQVRIOiQocmVhbHBhdGggJHtjW2Jbb3V0XV19KVxuICAgIiBcCiAgICAgICAgICAgIC0gY3JlYXRlIGEgc3ltYm9saWMgbGluayBieSBleGVjdXRpbmc6ICdzdWRvIGxuIC1zJyBcCiAgICAgICAgICAgICIkKHJlYWxwYXRoICR7Y1tiW291dF1dfS8ke2NbYltuYW1lXV19KSIgXAogICAgICAgICAgICAiL3Vzci9iaW4vJHtjW2JbbmFtZV1dfSIKICAgIH0gfHwgLmRpZSAtZSBjb3VsZCBub3Qgd3JpdGUgZmlsZTogIiR7Y1tiW291dF1dfS8ke2NbYltuYW1lXV19Igp9CgpwOiAtYSAteCBDT05GSUcKCmV4aXQgMAo='
__MAIN__="${0##*\/}" \
/usr/bin/env bash <(base64 -d <<<"$MAIN") "$@"
exit $?
